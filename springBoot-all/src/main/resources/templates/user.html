<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/lib/VueTools/Vue/vue.min.js"></script>
    <!-- 引入vant -->
    <link rel="stylesheet" href="/lib/VueTools/vant/vant.css">
    <script src="/lib/VueTools/vant/vant.js"></script>
    <link rel="stylesheet" href="/lib/VueTools/element-ui/element-ui.css">
    <script src="/lib/VueTools/element-ui/element-ui.js"></script>
    <script src="/lib/VueTools/Vue/axios.min.js"></script>
</head>
<body>
<div id="app">
    <el-table :data="users.list" border style="width:80%;margin:auto;">
        <el-table-column prop="id" label="ID" width="180"></el-table-column>
        <el-table-column prop="username" label="用户名" width="180"></el-table-column>
        <el-table-column prop="nickname" label="昵称"></el-table-column>
        <el-table-column prop="sex" label="性别"></el-table-column>
    </el-table>
    <el-pagination layout="prev, pager, next" :page-size="users.pageSize"
                   @current-change="pageChange" :total="users.total"
                   style="text-align:center;"></el-pagination>
</div>
<script>
    const vm = new Vue({
        el: '#app',
        data:{
            users:{
                pageNum:1,
                pageSize: 2
            }
        },
        mounted(){
            this.getAllUser();
        },
        methods:{
            getAllUser() {
                axios.post("/getAllUser",this.users).then((res)=>{
                    console.log(res.data);
                    this.users = res.data;
                })
            },
            pageChange(val) {
                this.users.pageNum = val;
                this.getAllUser();
            }
        }
    });
</script>
</body>
</html>